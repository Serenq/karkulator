<!DOCTYPE html>
<html lang="ru">

<head>
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta charset="UTF-8">
    <title>Калькулятор 1.1</title>
    <!-- styles -->
    <link rel="stylesheet" href="style/main.css">
</head>

<body>
    <div class="container container-margins">
        <h1>Особенности каркулятора</h1>
        <ul style="margin-bottom: 30px;">
            <li>ДОБАВЛЕНО: Автоформатирование вводимого</li>
            <li>ДОБАВЛЕНО: Возможность вводить длинные последовательности</li>
            <li>Проверка ввода.</li>
            <li>Предварительный просмотр результата</li>
            <li>После нажатия кнопки (=), обновляется ввод</li>
            <li>НЕЛЬЗЯ: Вводить скобки</li>
        </ul>

        <h1>Обновление 1.1</h1>

        <p>Миновало 7 месяцев с тех пор как появился данный проект калькулятора. Время от времени Я не переставал размышлять о том как улучшить ввод данных. Предыдущая версия была ограничена двумя операндами. На днях мне пришла мысль - пойти другим путём проверки ввода. Вместа проверки вводимиого и запрещения ввода последовательности символо, наобор отбросить ненужные символы. Например лишние плюсы (2++++2), лишние нули (0000.01), лишние точки в группе (11....22) или в теле операнда (11.222.333....44). Вполне себе жизнеспособная идея. В результате вышел не такой замороченный шаблон регулярного выражения. Но пришлось полазить, поискать информацию по реализации. Сложнее всего было узнать - как двигаться в обратном направлении в шаблоне выражения. Мне пришёл на помощь скобочный оператор "взгляд назад": <span class="code-fragment">(?<=)</span>.</p>
        
        <p>и игрнорирование первого символа <span class="code-fragment">\B</span>. Первого из последовательности (1+++++2). Первый плюс нужно было оставить, а остальные удалить, что бы получилось (1+2). Аналогично с нулями, точками, и другими символами.</p>

        <p>Пришлось ещё так же реализовать проверку уже отформатированного ввода. Пришлось повозиться с реализацией шаблона. Это нужно было что бы в консоль не выдавались ошибки которые выбрасывал блок с "подсказками", это предварительный результат вычислений. Пришлось строго проверять строку на соответствие с начала и конца строки - <span class="code-fragment">^....$</span>.</p>

        <div style="text-align: left;">
            <a href="regex-explain_1-0.html" style="display: inline-block;">Версия 1.0</a>
            <a href="regex-explain_1-1.html" style="display: inline-block;">Версия 1.1</a>
        </div>

        <div style="text-align: right;">
            <a href="index.html" style="display: inline-block;">Назад</a>
        </div>
    </div>

    <script src="js/jquery-3.5.1.min.js"></script>
    <!-- scripty -->
    <script src="js/main.js"></script>
</body>
</html>